<!--
<!DOCTYPE html>
<html ng-app>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Angular JS TEST</title>
    <meta name="viewport" content="width=device-width; initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.8/angular.min.js"></script>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
    <script src="sample.js"></script>
  </head>
  <body>
    <form class="pure-form pure-form-stacked">
      <div ng-controller="sample_base1" ng-init="init()" style="margin: 10px;">
        <div>
          <label>テキストを入力してください。</label>
          <input type="text" ng-model="inputText"/>
        </div>
        <div>
          <p>テキストボックスに入力した内容：{{inputText}}</p>
        </div>
      </div>
    </form>
  </body>
</html>
-->
<!doctype html>
<html ng-app>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width" />
	<title>Swap Puzzle Builder</title>
	<link rel="stylesheet" type="text/css" href="swap_piece.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
	<script>
		//(function() {
			
			function builder($scope) {
				'use strict';
				
				$scope.rows = 2;
				$scope.cols = 2;
				$scope.range = function(n) {
					var r = [];
					for(var i = 0; i < n; i++) r.push(i);
					return r;
				};
				$scope.update = function(e) {
				};
				
				function edit(e) {
					if(e.target.localName === 'td') {
						document.execCommand('selectAll', false, null);
						e.stopPropagation();
					}
					console.log(e.target);
				}
				
				document.querySelector('table').addEventListener('click', edit);
			}
//		})();
	</script>
</head>
<body>
	<div ng-controller="builder" id="container">
		<h1>Builder</h1>
		<table>
			<tr ng-repeat="tr in range(rows)">
				<td contenteditable="true" ng-repeat="td in range(cols)" id="p{{tr}}{{td}}">1</td>
			</tr>
		</table>
		<label>Size: </label>
		<select ng-model="rows" ng-change="update()">
			<option ng-repeat="o in [2, 3, 4, 5, 6]" value="{{o}}">{{o}}</option>
		</select>
		<select ng-model="cols">
			<option ng-repeat="o in [2, 3, 4, 5, 6]">{{o}}</option>
		</select>
		<p><button>Test</button></p>
	</div>
	<script>
		(function() {
			
		})();
	</script>
</body>
</html>